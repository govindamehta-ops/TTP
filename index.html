<!DOCTYPE html>
<html lang="en" data-color-scheme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TimeTracker Pro - Employee Time & Attendance</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Skip Navigation Link for Accessibility -->
    <a href="#main-content" class="sr-only" tabindex="1">Skip to main content</a>

    <!-- Login Screen -->
    <div id="login-screen" class="login-container" role="main">
        <div class="login-form-wrapper">
            <div class="login-header">
                <h1>TimeTracker Pro</h1>
                <p>Employee Time & Attendance Management</p>
            </div>
            <form id="login-form" class="login-form" aria-label="Login Form">
                <div class="form-group">
                    <label for="email" class="form-label">Email Address</label>
                    <input type="email" id="email" class="form-control" required 
                           aria-describedby="email-error" autocomplete="email">
                    <div id="email-error" class="error-message" role="alert" aria-live="polite"></div>
                </div>
                <div class="form-group">
                    <label for="password" class="form-label">Password</label>
                    <input type="password" id="password" class="form-control" required 
                           aria-describedby="password-error" autocomplete="current-password">
                    <div id="password-error" class="error-message" role="alert" aria-live="polite"></div>
                </div>
                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="remember-me">
                        <span class="checkbox-text">Remember me</span>
                    </label>
                </div>
                <button type="submit" class="btn btn--primary btn--full-width">Sign In</button>
                <a href="#" class="forgot-password-link">Forgot your password?</a>
            </form>
        </div>
    </div>

    <!-- Main Application -->
    <div id="main-app" class="app-container hidden">
        <!-- Header Navigation -->
        <header class="app-header" role="banner">
            <div class="header-content">
                <div class="header-left">
                    <button id="mobile-menu-toggle" class="mobile-menu-btn" aria-label="Toggle navigation menu" aria-expanded="false">
                        <span class="hamburger"></span>
                    </button>
                    <h1 class="app-title">TimeTracker Pro</h1>
                </div>
                
                <div class="header-center">
                    <div class="search-container" role="search">
                        <label for="global-search" class="sr-only">Search employees, projects, and records</label>
                        <input type="search" id="global-search" class="search-input" 
                               placeholder="Search employees, projects, records..." 
                               aria-describedby="search-results">
                        <button class="search-btn" aria-label="Search">
                            <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke="currentColor" stroke-width="2" fill="none"/>
                            </svg>
                        </button>
                        <div id="search-results" class="search-results hidden" role="listbox" aria-label="Search results"></div>
                    </div>
                </div>

                <div class="header-right">
                    <button id="theme-toggle" class="theme-toggle-btn" aria-label="Toggle dark mode">
                        <svg class="sun-icon" width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 17a5 5 0 100-10 5 5 0 000 10zM12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
                        </svg>
                        <svg class="moon-icon hidden" width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/>
                        </svg>
                    </button>
                    <div class="user-menu">
                        <button id="user-menu-toggle" class="user-menu-btn" aria-label="User menu" aria-expanded="false">
                            <div class="user-avatar">JS</div>
                            <span id="current-user-name">John Smith</span>
                            <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M6 9l6 6 6-6"/>
                            </svg>
                        </button>
                        <div id="user-dropdown" class="user-dropdown hidden" role="menu">
                            <a href="#" role="menuitem" data-view="profile">Profile</a>
                            <a href="#" role="menuitem" data-view="settings">Settings</a>
                            <hr>
                            <a href="#" role="menuitem" id="logout-btn">Sign Out</a>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Side Navigation -->
        <nav class="sidebar" role="navigation" aria-label="Main navigation">
            <ul class="nav-menu" role="menubar">
                <li role="none">
                    <button class="nav-link active" data-view="dashboard" role="menuitem" aria-current="page">
                        <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/>
                        </svg>
                        Dashboard
                    </button>
                </li>
                <li role="none">
                    <button class="nav-link" data-view="time-tracking" role="menuitem">
                        <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="10"/>
                            <polyline points="12,6 12,12 16,14"/>
                        </svg>
                        Time Tracking
                    </button>
                </li>
                <li role="none">
                    <button class="nav-link" data-view="attendance" role="menuitem">
                        <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
                        </svg>
                        Attendance
                    </button>
                </li>
                <li role="none">
                    <button class="nav-link" data-view="reports" role="menuitem">
                        <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14,2 14,8 20,8"/>
                            <line x1="16" y1="13" x2="8" y2="13"/>
                            <line x1="16" y1="17" x2="8" y2="17"/>
                            <polyline points="10,9 9,9 8,9"/>
                        </svg>
                        Reports
                    </button>
                </li>
                <li role="none">
                    <button class="nav-link" data-view="team" role="menuitem">
                        <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                        </svg>
                        Team
                    </button>
                </li>
            </ul>
        </nav>

        <!-- Main Content Area -->
        <main id="main-content" class="main-content" role="main">
            <!-- Dashboard View -->
            <div id="dashboard-view" class="view active">
                <div class="page-header">
                    <h2>Dashboard</h2>
                    <p class="page-subtitle">Welcome back! Here's your overview for today.</p>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions">
                    <div class="card clock-card">
                        <div class="card__body">
                            <div class="clock-status">
                                <div class="status-info">
                                    <h3>Current Status</h3>
                                    <div id="current-status" class="status status--success">Clocked In</div>
                                    <div class="time-display" id="current-time">9:15 AM</div>
                                </div>
                                <button id="clock-toggle" class="btn btn--primary btn--lg clock-btn" aria-describedby="clock-help">
                                    Clock Out
                                </button>
                                <div id="clock-help" class="sr-only">Click to clock out. You have been working for 2 hours and 15 minutes today.</div>
                            </div>
                        </div>
                    </div>

                    <div class="stats-grid">
                        <div class="stat-card card">
                            <div class="card__body">
                                <div class="stat-value">8.25h</div>
                                <div class="stat-label">Today's Hours</div>
                            </div>
                        </div>
                        <div class="stat-card card">
                            <div class="card__body">
                                <div class="stat-value">38.5h</div>
                                <div class="stat-label">This Week</div>
                            </div>
                        </div>
                        <div class="stat-card card">
                            <div class="card__body">
                                <div class="stat-value">2</div>
                                <div class="stat-label">Pending Requests</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="dashboard-sections">
                    <div class="section-card card">
                        <div class="card__header">
                            <h3>Recent Activity</h3>
                        </div>
                        <div class="card__body">
                            <div class="activity-list">
                                <div class="activity-item">
                                    <div class="activity-icon status--success"></div>
                                    <div class="activity-content">
                                        <div class="activity-title">Clocked in</div>
                                        <div class="activity-time">Today at 9:15 AM</div>
                                    </div>
                                </div>
                                <div class="activity-item">
                                    <div class="activity-icon status--info"></div>
                                    <div class="activity-content">
                                        <div class="activity-title">Leave request submitted</div>
                                        <div class="activity-time">Yesterday at 3:30 PM</div>
                                    </div>
                                </div>
                                <div class="activity-item">
                                    <div class="activity-icon status--success"></div>
                                    <div class="activity-content">
                                        <div class="activity-title">Timesheet approved</div>
                                        <div class="activity-time">2 days ago</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Time Tracking View -->
            <div id="time-tracking-view" class="view hidden">
                <div class="page-header">
                    <h2>Time Tracking</h2>
                    <p class="page-subtitle">Track your working hours and manage timesheets.</p>
                </div>

                <div class="time-tracking-content">
                    <div class="card">
                        <div class="card__body">
                            <div class="timesheet-header">
                                <h3>Weekly Timesheet</h3>
                                <div class="week-navigation">
                                    <button class="btn btn--outline btn--sm">← Previous</button>
                                    <span class="current-week">Aug 4 - Aug 10, 2025</span>
                                    <button class="btn btn--outline btn--sm">Next →</button>
                                </div>
                            </div>
                            
                            <div class="timesheet-table-container">
                                <table class="timesheet-table" role="table" aria-label="Weekly timesheet">
                                    <thead>
                                        <tr>
                                            <th scope="col">Date</th>
                                            <th scope="col">Clock In</th>
                                            <th scope="col">Clock Out</th>
                                            <th scope="col">Break Time</th>
                                            <th scope="col">Total Hours</th>
                                            <th scope="col">Project</th>
                                            <th scope="col">Status</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Mon, Aug 4</td>
                                            <td>9:00 AM</td>
                                            <td>5:30 PM</td>
                                            <td>1:00h</td>
                                            <td>7.5h</td>
                                            <td>Mobile App Dev</td>
                                            <td><span class="status status--success">Approved</span></td>
                                        </tr>
                                        <tr>
                                            <td>Tue, Aug 5</td>
                                            <td>8:45 AM</td>
                                            <td>5:15 PM</td>
                                            <td>0:45h</td>
                                            <td>7.75h</td>
                                            <td>Mobile App Dev</td>
                                            <td><span class="status status--success">Approved</span></td>
                                        </tr>
                                        <tr>
                                            <td>Wed, Aug 6</td>
                                            <td>9:15 AM</td>
                                            <td>6:00 PM</td>
                                            <td>1:15h</td>
                                            <td>7.5h</td>
                                            <td>Mobile App Dev</td>
                                            <td><span class="status status--success">Approved</span></td>
                                        </tr>
                                        <tr>
                                            <td>Thu, Aug 7</td>
                                            <td>8:30 AM</td>
                                            <td>4:45 PM</td>
                                            <td>1:00h</td>
                                            <td>7.25h</td>
                                            <td>Mobile App Dev</td>
                                            <td><span class="status status--warning">Pending</span></td>
                                        </tr>
                                        <tr>
                                            <td>Fri, Aug 8</td>
                                            <td>9:15 AM</td>
                                            <td>-</td>
                                            <td>-</td>
                                            <td>2.25h</td>
                                            <td>Mobile App Dev</td>
                                            <td><span class="status status--info">In Progress</span></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Attendance View -->
            <div id="attendance-view" class="view hidden">
                <div class="page-header">
                    <h2>Attendance</h2>
                    <p class="page-subtitle">View attendance history and manage leave requests.</p>
                </div>

                <div class="attendance-content">
                    <div class="attendance-tabs">
                        <button class="tab-btn active" data-tab="attendance-history">Attendance History</button>
                        <button class="tab-btn" data-tab="leave-requests">Leave Requests</button>
                    </div>

                    <div class="tab-content">
                        <div id="attendance-history" class="tab-panel active">
                            <div class="card">
                                <div class="card__body">
                                    <div class="attendance-summary">
                                        <div class="summary-stats">
                                            <div class="summary-item">
                                                <div class="summary-value">22</div>
                                                <div class="summary-label">Days Present</div>
                                            </div>
                                            <div class="summary-item">
                                                <div class="summary-value">2</div>
                                                <div class="summary-label">Days Absent</div>
                                            </div>
                                            <div class="summary-item">
                                                <div class="summary-value">1</div>
                                                <div class="summary-label">Late Arrivals</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="leave-requests" class="tab-panel hidden">
                            <div class="leave-actions">
                                <button class="btn btn--primary" id="new-leave-request">Request Leave</button>
                            </div>
                            
                            <div class="card">
                                <div class="card__header">
                                    <h3>Leave Requests</h3>
                                </div>
                                <div class="card__body">
                                    <table class="data-table" role="table" aria-label="Leave requests">
                                        <thead>
                                            <tr>
                                                <th scope="col">Type</th>
                                                <th scope="col">Start Date</th>
                                                <th scope="col">End Date</th>
                                                <th scope="col">Days</th>
                                                <th scope="col">Status</th>
                                                <th scope="col">Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Vacation</td>
                                                <td>Aug 15, 2025</td>
                                                <td>Aug 20, 2025</td>
                                                <td>5</td>
                                                <td><span class="status status--warning">Pending</span></td>
                                                <td><button class="btn btn--outline btn--sm">Edit</button></td>
                                            </tr>
                                            <tr>
                                                <td>Sick Leave</td>
                                                <td>Aug 10, 2025</td>
                                                <td>Aug 12, 2025</td>
                                                <td>3</td>
                                                <td><span class="status status--success">Approved</span></td>
                                                <td><button class="btn btn--outline btn--sm">View</button></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Reports View -->
            <div id="reports-view" class="view hidden">
                <div class="page-header">
                    <h2>Reports</h2>
                    <p class="page-subtitle">Generate and export attendance reports.</p>
                </div>

                <div class="reports-content">
                    <div class="report-builder card">
                        <div class="card__header">
                            <h3>Generate Report</h3>
                        </div>
                        <div class="card__body">
                            <div class="report-form">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="report-type" class="form-label">Report Type</label>
                                        <select id="report-type" class="form-control">
                                            <option value="attendance">Attendance Summary</option>
                                            <option value="timesheet">Timesheet Report</option>
                                            <option value="leave">Leave Summary</option>
                                            <option value="project">Project Hours</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="date-range" class="form-label">Date Range</label>
                                        <select id="date-range" class="form-control">
                                            <option value="this-week">This Week</option>
                                            <option value="last-week">Last Week</option>
                                            <option value="this-month">This Month</option>
                                            <option value="last-month">Last Month</option>
                                            <option value="custom">Custom Range</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-actions">
                                    <button class="btn btn--primary" id="generate-report">Generate Report</button>
                                    <button class="btn btn--outline" id="export-report">Export to PDF</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Team View -->
            <div id="team-view" class="view hidden">
                <div class="page-header">
                    <h2>Team Overview</h2>
                    <p class="page-subtitle">Monitor your team's attendance and status.</p>
                </div>

                <div class="team-content">
                    <div class="card">
                        <div class="card__header">
                            <h3>Team Status Today</h3>
                        </div>
                        <div class="card__body">
                            <div class="team-grid">
                                <div class="team-member">
                                    <div class="member-info">
                                        <div class="member-avatar">MD</div>
                                        <div class="member-details">
                                            <div class="member-name">Mike Davis</div>
                                            <div class="member-role">Senior Developer</div>
                                        </div>
                                    </div>
                                    <div class="member-status">
                                        <span class="status status--success">Present</span>
                                        <div class="member-time">8.75h</div>
                                    </div>
                                </div>
                                <div class="team-member">
                                    <div class="member-info">
                                        <div class="member-avatar">LC</div>
                                        <div class="member-details">
                                            <div class="member-name">Lisa Chen</div>
                                            <div class="member-role">Sales Representative</div>
                                        </div>
                                    </div>
                                    <div class="member-status">
                                        <span class="status status--success">Present</span>
                                        <div class="member-time">8.25h</div>
                                    </div>
                                </div>
                                <div class="team-member">
                                    <div class="member-info">
                                        <div class="member-avatar">DW</div>
                                        <div class="member-details">
                                            <div class="member-name">David Wilson</div>
                                            <div class="member-role">Engineering Manager</div>
                                        </div>
                                    </div>
                                    <div class="member-status">
                                        <span class="status status--error">On Leave</span>
                                        <div class="member-time">Sick Leave</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast hidden" role="alert" aria-live="polite">
        <div class="toast-content">
            <span class="toast-message"></span>
            <button class="toast-close" aria-label="Close notification">&times;</button>
        </div>
    </div>

    <!-- Leave Request Modal -->
    <div id="leave-modal" class="modal hidden" role="dialog" aria-labelledby="leave-modal-title" aria-hidden="true">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="leave-modal-title">Request Leave</h3>
                <button class="modal-close" aria-label="Close dialog">&times;</button>
            </div>
            <form class="modal-body">
                <div class="form-group">
                    <label for="leave-type" class="form-label">Leave Type</label>
                    <select id="leave-type" class="form-control" required>
                        <option value="">Select leave type</option>
                        <option value="vacation">Vacation</option>
                        <option value="sick">Sick Leave</option>
                        <option value="personal">Personal Leave</option>
                        <option value="emergency">Emergency Leave</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="start-date" class="form-label">Start Date</label>
                    <input type="date" id="start-date" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="end-date" class="form-label">End Date</label>
                    <input type="date" id="end-date" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="leave-reason" class="form-label">Reason (Optional)</label>
                    <textarea id="leave-reason" class="form-control" rows="3" placeholder="Please provide a reason for your leave request..."></textarea>
                </div>
            </form>
            <div class="modal-footer">
                <button class="btn btn--outline" id="cancel-leave">Cancel</button>
                <button class="btn btn--primary" id="submit-leave">Submit Request</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
<!-- Supabase Auth snippet -->
<script type="module">
  import { createClient } from
    'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2';

  // 1️⃣  Paste your keys between the quotes
  const supabase = createClient(
    'https://iyojtdlsyxymmkutmwek.supabase.co',      // <— replace this
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml5b2p0ZGxzeXh5bW1rdXRtd2VrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY3MjMxNDQsImV4cCI6MjA3MjI5OTE0NH0.hUqoP2EpX26M5EQxEdHk2DHWUrkfAFnTFBhmDBkkWxk'    // <— and this
  );

  /* ---------- SIGN-UP ---------- */
  async function signUp() {
    const email    = document.getElementById('email').value;
    const password = document.getElementById('password').value;

    const { error } = await supabase.auth.signUp({ email, password });
    alert(error ? error.message : 'Check your email to confirm!');
  }

  /* ---------- LOG-IN ---------- */
  async function logIn() {
    const email    = document.getElementById('email').value;
    const password = document.getElementById('password').value;

    const { error } = await supabase.auth
      .signInWithPassword({ email, password });

    if (error) alert(error.message);
    else       window.location.href = '/dashboard.html';  // change if needed
  }
</script>
</body>
</html>